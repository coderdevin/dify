server {
    listen 80;
    server_name api.dev-smartcoder.coreteam.work api.smartcoder.ai;

    location / {
      add_header Access-Control-Allow-Origin * always;
      add_header Access-Control-Allow-Credentials "true" always;
      add_header 'Access-Control-Allow-Methods' '*';
      if ($request_method = 'OPTIONS') {
        add_header Access-Control-Allow-Origin *;
        add_header Access-Control-Allow-Credentials "true" always;
        add_header 'Access-Control-Allow-Methods' '*';
        add_header Access-Control-Allow-Headers 'Content-Type,Authorization';
        return 204;
      }
     
#      proxy_set_header Connection '';
#      proxy_http_version 1.1;
#      chunked_transfer_encoding off;
#      proxy_buffering off;
#      proxy_cache off;

      proxy_pass http://127.0.0.1:8000;
      proxy_set_header Host $http_host;
      # include proxy.conf;
    }
}